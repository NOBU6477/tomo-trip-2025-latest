<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Local Guide - 現地ガイドマッチングサービス</title>
  
  <meta name="firebase-api-key" content="mock-api-key">
  <meta name="firebase-project-id" content="mock-project-id">
  <meta name="firebase-app-id" content="mock-app-id">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="layout_fix.css">
  <link rel="stylesheet" href="personalized-welcome.css">
  
  <style>
    /* ナビゲーションバーのスタイル修正 */
    .navbar-dark .btn-warning {
      background-color: #ffc107;
      border-color: #ffc107;
      color: #000;
    }
    
    /* モーダル表示のスタイル調整 */
    .modal-backdrop {
      z-index: 1040;
    }
    .modal-dialog {
      z-index: 1050;
    }
    
    /* コンテナサイズ調整 */
    @media (min-width: 1200px) {
      .container {
        max-width: 1140px;
      }
    }
    
    /* フォームのスクロール対応 */
    .modal-body {
      max-height: 70vh;
      overflow-y: auto;
    }
  </style>
</head>
<body>

  <!-- ナビゲーションバー -->
  <header>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
      <div class="container">
        <a class="navbar-brand" href="#">
          <i class="bi bi-map me-2"></i>
          Local Guide
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a class="nav-link active" href="#" data-i18n="nav.home">ホーム</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" data-i18n="nav.findGuide">ガイドを探す</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" data-i18n="nav.howTo">使い方</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" data-i18n="nav.about">サービスについて</a>
            </li>
          </ul>
          <div class="dropdown me-2">
            <a class="btn btn-primary dropdown-toggle" href="#" role="button" id="languageDropdown" data-bs-toggle="dropdown" aria-expanded="false">
              <span id="current-language">日本語</span>
            </a>
            <ul class="dropdown-menu" aria-labelledby="languageDropdown">
              <li><a class="dropdown-item" href="#" onclick="changeLanguage('ja')">日本語</a></li>
              <li><a class="dropdown-item" href="#" onclick="changeLanguage('en')">English</a></li>
            </ul>
          </div>
          <a id="register-btn" class="btn btn-warning me-2" href="#" data-i18n="nav.register">新規登録</a>
          <a class="btn btn-outline-light" href="#" data-bs-toggle="modal" data-bs-target="#loginModal" data-i18n="nav.login">ログイン</a>
        </div>
      </div>
    </nav>
  </header>

  <!-- メインコンテンツ -->
  <main>
    <!-- ヒーローセクション -->
    <section class="hero-section bg-primary text-white py-5">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-md-6">
            <h1 class="mb-4" data-i18n="home.title">現地の案内人と巡る、特別な旅</h1>
            <p class="lead" data-i18n="home.description">地元の人だけが知る隠れた名所や文化体験。現地ガイドとともに、忘れられない旅の思い出を作りましょう。</p>
            <div class="mt-4">
              <a href="#" class="btn btn-outline-light me-2" data-i18n="home.findGuide">ガイドを探す</a>
              <a href="#" class="btn btn-light" data-i18n="home.learnMore">詳しく見る</a>
            </div>
          </div>
          <div class="col-md-6">
            <img src="https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" class="img-fluid rounded" alt="Tokyo Skyline">
          </div>
        </div>
      </div>
    </section>

    <!-- 検索セクション -->
    <section class="py-5">
      <div class="container">
        <h2 class="text-center mb-4" data-i18n="search.title">どの地域を訪れますか？</h2>
        <div class="row justify-content-center">
          <div class="col-md-8">
            <div class="input-group mb-3">
              <input type="text" class="form-control form-control-lg" placeholder="都市名や観光地名を入力">
              <button class="btn btn-primary" type="button" data-i18n="search.button">検索</button>
            </div>
          </div>
        </div>
        <div class="text-center mt-2">
          <span class="badge bg-light text-dark me-2 mb-2">東京</span>
          <span class="badge bg-light text-dark me-2 mb-2">京都</span>
          <span class="badge bg-light text-dark me-2 mb-2">大阪</span>
          <span class="badge bg-light text-dark me-2 mb-2">札幌</span>
          <span class="badge bg-light text-dark me-2 mb-2">福岡</span>
          <span class="badge bg-light text-dark me-2 mb-2">広島</span>
        </div>
      </div>
    </section>

    <!-- 使い方セクション -->
    <section class="how-to-use py-5 bg-light">
      <div class="container">
        <h2 class="text-center mb-5" data-i18n="howTo.title">Local Guideの使い方</h2>
        <div class="row">
          <div class="col-md-3">
            <div class="card h-100 border-0 shadow-sm">
              <div class="card-body text-center">
                <div class="rounded-circle bg-primary text-white d-flex align-items-center justify-content-center mx-auto mb-3" style="width: 60px; height: 60px;">
                  <span class="h4 mb-0">1</span>
                </div>
                <h5 class="card-title" data-i18n="howTo.step1Title">アカウント登録</h5>
                <p class="card-text" data-i18n="howTo.step1Desc">簡単な情報入力でアカウントを作成します。</p>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="card h-100 border-0 shadow-sm">
              <div class="card-body text-center">
                <div class="rounded-circle bg-primary text-white d-flex align-items-center justify-content-center mx-auto mb-3" style="width: 60px; height: 60px;">
                  <span class="h4 mb-0">2</span>
                </div>
                <h5 class="card-title" data-i18n="howTo.step2Title">ガイドを探す</h5>
                <p class="card-text" data-i18n="howTo.step2Desc">訪問したい都市のガイドをプロフィールや評価から選びます。</p>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="card h-100 border-0 shadow-sm">
              <div class="card-body text-center">
                <div class="rounded-circle bg-primary text-white d-flex align-items-center justify-content-center mx-auto mb-3" style="width: 60px; height: 60px;">
                  <span class="h4 mb-0">3</span>
                </div>
                <h5 class="card-title" data-i18n="howTo.step3Title">予約を行う</h5>
                <p class="card-text" data-i18n="howTo.step3Desc">ガイドの空き状況を確認して、希望日時で予約します。</p>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="card h-100 border-0 shadow-sm">
              <div class="card-body text-center">
                <div class="rounded-circle bg-primary text-white d-flex align-items-center justify-content-center mx-auto mb-3" style="width: 60px; height: 60px;">
                  <span class="h4 mb-0">4</span>
                </div>
                <h5 class="card-title" data-i18n="howTo.step4Title">ガイドと体験</h5>
                <p class="card-text" data-i18n="howTo.step4Desc">当日は集合場所でガイドと合流し、特別な体験を楽しみましょう。</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 特徴セクション -->
    <section class="features py-5">
      <div class="container">
        <h2 class="text-center mb-5" data-i18n="features.title">Local Guideの特徴</h2>
        <div class="row">
          <div class="col-md-4 mb-4">
            <div class="card border-0 h-100 shadow-sm">
              <div class="card-body">
                <div class="text-primary mb-3">
                  <i class="bi bi-person-check fs-1"></i>
                </div>
                <h3 class="card-title h5" data-i18n="features.verified">身分証明書で本人確認済み</h3>
                <p class="card-text" data-i18n="features.verifiedDesc">すべてのガイドは身分証明書による本人確認を行っています。安心して利用できます。</p>
              </div>
            </div>
          </div>
          <div class="col-md-4 mb-4">
            <div class="card border-0 h-100 shadow-sm">
              <div class="card-body">
                <div class="text-primary mb-3">
                  <i class="bi bi-translate fs-1"></i>
                </div>
                <h3 class="card-title h5" data-i18n="features.multilingual">多言語対応</h3>
                <p class="card-text" data-i18n="features.multilingualDesc">10以上の言語に対応したガイドがいるので、言葉の心配なく旅行を楽しめます。</p>
              </div>
            </div>
          </div>
          <div class="col-md-4 mb-4">
            <div class="card border-0 h-100 shadow-sm">
              <div class="card-body">
                <div class="text-primary mb-3">
                  <i class="bi bi-star fs-1"></i>
                </div>
                <h3 class="card-title h5" data-i18n="features.localExperience">現地の人ならではの体験</h3>
                <p class="card-text" data-i18n="features.localExperienceDesc">ガイドブックにない隠れた名所や現地の文化を深く知ることができます。</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 人気のガイドセクション -->
    <section class="popular-guides py-5 bg-light">
      <div class="container">
        <h2 class="text-center mb-5" data-i18n="popularGuides.title">人気のガイド</h2>
        <div class="row">
          <div class="col-md-4 mb-4">
            <div class="card h-100">
              <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" class="card-img-top" alt="ガイド写真">
              <div class="card-body">
                <h5 class="card-title">山田 太郎</h5>
                <p class="card-text"><i class="bi bi-geo-alt me-1"></i>東京</p>
                <p class="card-text"><i class="bi bi-chat-dots me-1"></i>日本語, 英語</p>
                <div class="mb-2">
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-half text-warning"></i>
                  <span class="ms-1">4.5 (56件)</span>
                </div>
                <p class="text-primary fw-bold">¥6,000 / 時間〜</p>
                <a href="#" class="btn btn-outline-primary w-100">プロフィールを見る</a>
              </div>
            </div>
          </div>
          <div class="col-md-4 mb-4">
            <div class="card h-100">
              <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" class="card-img-top" alt="ガイド写真">
              <div class="card-body">
                <h5 class="card-title">鈴木 花子</h5>
                <p class="card-text"><i class="bi bi-geo-alt me-1"></i>京都</p>
                <p class="card-text"><i class="bi bi-chat-dots me-1"></i>日本語, 英語, 中国語</p>
                <div class="mb-2">
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star text-warning"></i>
                  <span class="ms-1">4.0 (42件)</span>
                </div>
                <p class="text-primary fw-bold">¥7,000 / 時間〜</p>
                <a href="#" class="btn btn-outline-primary w-100">プロフィールを見る</a>
              </div>
            </div>
          </div>
          <div class="col-md-4 mb-4">
            <div class="card h-100">
              <img src="https://images.unsplash.com/photo-1560250097-0b93528c311a?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" class="card-img-top" alt="ガイド写真">
              <div class="card-body">
                <h5 class="card-title">佐藤 健</h5>
                <p class="card-text"><i class="bi bi-geo-alt me-1"></i>大阪</p>
                <p class="card-text"><i class="bi bi-chat-dots me-1"></i>日本語, 英語, 韓国語</p>
                <div class="mb-2">
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <span class="ms-1">5.0 (28件)</span>
                </div>
                <p class="text-primary fw-bold">¥6,500 / 時間〜</p>
                <a href="#" class="btn btn-outline-primary w-100">プロフィールを見る</a>
              </div>
            </div>
          </div>
        </div>
        <div class="text-center mt-4">
          <a href="#" class="btn btn-primary px-4" data-i18n="popularGuides.viewAll">すべてのガイドを見る</a>
        </div>
      </div>
    </section>

    <!-- 登録促進セクション -->
    <section class="cta-section py-5 bg-primary text-white">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-md-8 mb-3 mb-md-0">
            <h2 data-i18n="cta.title">あなたも特別な旅の体験を始めましょう</h2>
            <p class="lead mb-0" data-i18n="cta.description">今すぐ登録して、ガイドを探すか、ガイドとして活動しましょう。</p>
          </div>
          <div class="col-md-4 text-md-end">
            <button class="btn btn-warning me-2 mb-2" id="tourist-register-cta" data-i18n="cta.touristRegister">観光客として登録</button>
            <button class="btn btn-outline-light mb-2" id="guide-register-cta" data-i18n="cta.guideRegister">ガイドとして登録</button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- フッター -->
  <footer class="bg-dark text-white py-4">
    <div class="container">
      <div class="row">
        <div class="col-md-4 mb-4 mb-md-0">
          <h5>Local Guide</h5>
          <p class="small">現地の人と繋がり、本当の旅を体験するためのサービス。ガイドブックには載っていない特別な体験を。</p>
        </div>
        <div class="col-md-2 col-6 mb-4 mb-md-0">
          <h5 data-i18n="footer.company">会社情報</h5>
          <ul class="list-unstyled small">
            <li><a href="#" class="text-white text-decoration-none" data-i18n="footer.about">会社概要</a></li>
            <li><a href="#" class="text-white text-decoration-none" data-i18n="footer.careers">採用情報</a></li>
            <li><a href="#" class="text-white text-decoration-none" data-i18n="footer.press">プレス</a></li>
          </ul>
        </div>
        <div class="col-md-2 col-6 mb-4 mb-md-0">
          <h5 data-i18n="footer.support">サポート</h5>
          <ul class="list-unstyled small">
            <li><a href="#" class="text-white text-decoration-none" data-i18n="footer.help">ヘルプセンター</a></li>
            <li><a href="#" class="text-white text-decoration-none" data-i18n="footer.safety">安全</a></li>
            <li><a href="#" class="text-white text-decoration-none" data-i18n="footer.terms">利用規約</a></li>
          </ul>
        </div>
        <div class="col-md-2 col-6 mb-4 mb-md-0">
          <h5 data-i18n="footer.social">ソーシャル</h5>
          <ul class="list-unstyled small">
            <li><a href="#" class="text-white text-decoration-none">Twitter</a></li>
            <li><a href="#" class="text-white text-decoration-none">Facebook</a></li>
            <li><a href="#" class="text-white text-decoration-none">Instagram</a></li>
          </ul>
        </div>
        <div class="col-md-2 col-6 mb-4 mb-md-0">
          <h5 data-i18n="footer.legal">法的情報</h5>
          <ul class="list-unstyled small">
            <li><a href="#" class="text-white text-decoration-none" data-i18n="footer.privacy">プライバシー</a></li>
            <li><a href="#" class="text-white text-decoration-none" data-i18n="footer.cookies">Cookie</a></li>
            <li><a href="#" class="text-white text-decoration-none" data-i18n="footer.sitemap">サイトマップ</a></li>
          </ul>
        </div>
      </div>
      <hr class="my-4 bg-secondary">
      <div class="d-flex flex-column flex-md-row justify-content-between">
        <div class="small text-muted">© 2025 Local Guide. All rights reserved.</div>
        <div class="small text-muted">
          <a href="#" class="text-white text-decoration-none me-3" data-i18n="footer.privacy">プライバシーポリシー</a>
          <a href="#" class="text-white text-decoration-none me-3" data-i18n="footer.terms">利用規約</a>
          <a href="#" class="text-white text-decoration-none" data-i18n="footer.sitemap">サイトマップ</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- モーダルの読み込み -->
  <div id="modals-container"></div>

  <!-- Bootstrap, jQuery, Popper.js の読み込み -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- カスタムスクリプトの読み込み -->
  <script src="translations/i18n.js"></script>
  <script src="translations/ja.js"></script>
  <script src="translations/en.js"></script>
  <script src="firebase-client.js"></script>
  <script src="script.js"></script>
  
  <!-- モーダルの読み込みスクリプト -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // モーダルHTMLを読み込む
      fetch('modals.html')
        .then(response => response.text())
        .then(html => {
          document.getElementById('modals-container').innerHTML = html;
          initializeModals();
        })
        .catch(error => console.error('モーダル読み込みエラー:', error));
    });
    
    // モーダル初期化関数
    function initializeModals() {
      // ユーザータイプモーダルからの遷移設定
      document.getElementById('tourist-register-btn')?.addEventListener('click', function() {
        const userTypeModal = bootstrap.Modal.getInstance(document.getElementById('userTypeModal'));
        userTypeModal.hide();
        setTimeout(() => {
          const touristModal = new bootstrap.Modal(document.getElementById('touristRegisterModal'));
          touristModal.show();
        }, 500);
      });
      
      document.getElementById('guide-register-btn')?.addEventListener('click', function() {
        const userTypeModal = bootstrap.Modal.getInstance(document.getElementById('userTypeModal'));
        userTypeModal.hide();
        setTimeout(() => {
          const guideModal = new bootstrap.Modal(document.getElementById('guideRegisterModal'));
          guideModal.show();
        }, 500);
      });
    }
    
    // 言語切り替え関数
    function changeLanguage(lang) {
      if (window.i18n) {
        window.i18n.changeLang(lang);
      }
      document.getElementById('current-language').innerText = lang === 'ja' ? '日本語' : 'English';
    }
    
    // 登録ボタンのイベントリスナー
    document.getElementById('register-btn').addEventListener('click', function() {
      const userTypeModal = new bootstrap.Modal(document.getElementById('userTypeModal'));
      userTypeModal.show();
    });
    
    // CTA登録ボタンのイベントリスナー
    document.getElementById('tourist-register-cta')?.addEventListener('click', function() {
      const touristModal = new bootstrap.Modal(document.getElementById('touristRegisterModal'));
      touristModal.show();
    });
    
    document.getElementById('guide-register-cta')?.addEventListener('click', function() {
      const guideModal = new bootstrap.Modal(document.getElementById('guideRegisterModal'));
      guideModal.show();
    });
  </script>
</body>
</html>