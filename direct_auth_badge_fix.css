/**
 * 電話認証バッジ直接スタイル修正
 * レンダリングされた要素を確実に非表示にする
 * 
 * 更新: スクリーンショットから特定した具体的な緑色ボタンを対象に追加
 */

/* 「認証済み」ボタンを確実に非表示 */
.btn-success.authentication-badge,
button.btn-success.authentication-badge,
#guide-phone-verified,
#guideRegistrationModal .btn-success,
.modal .btn-success[id*="verified"],
.form-group .btn-success,
.row .btn-success,
.col .btn-success,
.badge.bg-success.authentication-badge,
.badge.bg-success.verified,
[data-verified="true"] .btn-success,
[id*="guide"] [id*="verified"],
[id*="phone"] [id*="verified"],
[id*="verified"],
div[id*="verified"],
.alert-success:not(#verification-success) {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  height: 0 !important;
  width: 0 !important;
  position: absolute !important;
  overflow: hidden !important;
  pointer-events: none !important;
  margin: 0 !important;
  padding: 0 !important;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
  clip: rect(0, 0, 0, 0) !important;
  clip-path: inset(50%) !important;
}

/* 電話番号認証セクション内の緑色要素 */
label:has(span:contains("電話番号認証")) ~ div .btn-success,
label:has(span:contains("電話番号認証")) ~ div .badge.bg-success,
label:contains("電話番号認証") ~ div .btn-success,
label:contains("電話番号認証") ~ div .badge.bg-success,
[data-label*="phone"] ~ div .btn-success,
[data-label*="phone"] ~ div .badge.bg-success,
.phone-section .btn-success,
.phone-section .badge.bg-success,
.phone-verification-section .btn-success,
.phone-verification-section .badge.bg-success,
.form-phone-verification .btn-success,
.form-phone-verification .badge.bg-success,
#guideRegistrationModal .form-group:has(label:contains("電話")) .btn-success,
#guideRegistrationModal .form-group:has(label:contains("電話")) .badge.bg-success {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  height: 0 !important;
  width: 0 !important;
  position: absolute !important;
  overflow: hidden !important;
  pointer-events: none !important;
}

/* 緑色の背景を持つ要素のカラー変更 */
#guideRegistrationModal button.btn-success {
  background-color: transparent !important;
  border-color: transparent !important;
  color: transparent !important;
}

/* 広範囲なセレクタでガイド登録モーダル内の緑色要素を非表示 */
#guideRegistrationModal .btn-success,
#guideRegistrationModal .badge.bg-success,
#guideRegistrationModal .alert-success:not(#verification-success),
#guideRegistrationModal [class*="success"]:not(#verification-success),
#guideRegistrationModal [id*="verified"] {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  height: 0 !important;
  width: 0 !important;
  position: absolute !important;
  overflow: hidden !important;
  pointer-events: none !important;
}

/* 未認証表示を強制表示 */
#guideRegistrationModal .d-none:has(span:contains("未表示")),
.d-none:has(span:contains("未認証")),
.d-none:has(span:contains("未承認")) {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* セレクタがサポートされていない場合の代替策 */
.authentication-badge,
.verified-badge,
.verification-badge,
[id*="verification"],
[id*="verified"],
[class*="verified"],
[class*="verification"],
[data-verified],
[data-verification] {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
}

/* 特定の親要素内の緑色要素 */
.form-group:has(> label:contains("電話")) .btn-success,
.row:has(> div > label:contains("電話")) .btn-success,
.form-group:has(> label:contains("電話")) .alert-success,
.row:has(> div > label:contains("電話")) .alert-success,
.form-group:has(> label:contains("電話")) .badge.bg-success,
.row:has(> div > label:contains("電話")) .badge.bg-success {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
}

/* コンテナセレクタが使えない環境用の特別対策 */
#guideRegistrationModal .btn.btn-success,
#guide-registration-form .btn.btn-success,
#guideRegistrationModal .badge.bg-success,
#guide-registration-form .badge.bg-success {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
}

@supports not (selector(:has())) {
  /* :hasセレクタ非対応ブラウザ用の特別対策 */
  #guideRegistrationModal .btn.btn-success,
  #guideRegistrationModal .badge.bg-success,
  #guideRegistrationModal [id*="verified"],
  #guide-registration-form .btn.btn-success,
  #guide-registration-form .badge.bg-success,
  #guide-registration-form [id*="verified"] {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
  }
}

/* 最終手段: ガイド登録モーダル内のすべての緑色要素を検索 */
#guideRegistrationModal *[style*="background-color: rgb(40, 167, 69)"],
#guideRegistrationModal *[style*="background-color: #28a745"],
#guideRegistrationModal *[style*="background-color: rgb(25, 135, 84)"],
#guideRegistrationModal *[style*="background-color: #198754"],
#guideRegistrationModal *[style*="background: rgb(40, 167, 69)"],
#guideRegistrationModal *[style*="background: #28a745"],
#guideRegistrationModal *[style*="background: rgb(25, 135, 84)"],
#guideRegistrationModal *[style*="background: #198754"] {
  background-color: transparent !important;
  background: transparent !important;
  border-color: transparent !important;
  color: transparent !important;
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
}

/* 特定条件での強制置換 */
#guideRegistrationModal button.btn-success:has(span:contains("認証済")),
#guideRegistrationModal .alert-success:has(span:contains("認証済")),
#guideRegistrationModal .badge.bg-success:has(span:contains("認証済")) {
  display: none !important;
}

/* スクリーンショット特定要素対策: 認証済みというテキストを持つ要素 */
#guideRegistrationModal *:contains("認証済み"),
#guideRegistrationModal *:contains("認証済"),
[id*="guide"] *:contains("認証済み"),
[id*="guide"] *:contains("認証済") {
  display: none !important;
  visibility: hidden !important;
}

/* 新しいスクリーンショットで特定された具体的な要素 */
.btn-success:not(.d-none),
button.btn-success:not(.d-none),
#guideRegistrationModal button.btn-success,
#guideRegistrationModal .btn-success,
.alert-success:not(.verification-success),
div:has(> label:contains("電話番号認証")) .btn-success,
div:has(> label:contains("電話")) .btn-success,
div:has(label:contains("電話")) button.btn-success,
div:has(label:contains("電話")) .badge.bg-success,
.btn-success[data-testid*="phone"],
.badge.bg-success[data-testid*="phone"],
[class*="phone"] .btn-success,
[class*="phone"] .badge.bg-success,
[data-phone-verification] .btn-success,
[data-phone-verification] .badge.bg-success,
[data-test-id*="phone"] .btn-success,
[data-test-id*="phone"] .badge.bg-success {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  height: 0 !important;
  width: 0 !important;
  position: absolute !important;
  overflow: hidden !important;
}