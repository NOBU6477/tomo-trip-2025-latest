/**
 * 電話番号認証セクションの最終修正用スタイル
 * 「認証済み」と「未表示」が同時に表示される問題を完全に解決
 */

/* 「未表示」を強制的に非表示 */
#registerGuideModal:not([data-verified="true"]) .badge,
#registerGuideModal:not([data-verified="true"]) .alert {
  /* 認証完了メッセージ以外は非表示 */
  display: none !important;
}

/* 認証済みメッセージを確実に表示 */
#guide-phone-verified {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* 「未表示」テキストに特化した非表示設定 */
#registerGuideModal *:empty,
#registerGuideModal *:not(input):not(button):not(select):not(textarea):not([class*="alert"]):not([class*="form"]):not([class*="input"]):not([id*="guide-phone"]):not(label):not(div):not(span) {
  display: none !important;
}

/* 特定のテキスト「未表示」を非表示 - CSSの疑似要素セレクタは直接テキストノードを選択できないため、
   JavaScriptと組み合わせて使用 */

/* 認証済みバッジのスタイルを確保 */
#guide-phone-verified.alert-success {
  margin-top: 1rem !important;
  margin-bottom: 1rem !important;
  padding: 0.75rem 1.25rem !important;
  border-radius: 0.25rem !important;
  background-color: #d1e7dd !important;
  border-color: #badbcc !important;
  color: #0f5132 !important;
}

/* アイコンのスタイルを確保 */
#guide-phone-verified i.fa-check-circle,
#guide-phone-verified i.fas.fa-check-circle {
  color: #0f5132 !important;
  margin-right: 0.5rem !important;
}

/* 電話認証完了時のスタイル */
.phone-verified #guide-phone-number,
.phone-verified #guide-send-code-btn,
.phone-verified #guide-verification-code {
  opacity: 0.7;
  pointer-events: none;
}

/* テンポラリメッセージのスタイル */
.alert-temporary {
  animation: fadeIn 0.3s ease-in;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* スマートフォン向けスタイル調整 */
@media (max-width: 768px) {
  #guide-phone-verified {
    font-size: 0.9rem;
    padding: 0.5rem 1rem !important;
  }
}