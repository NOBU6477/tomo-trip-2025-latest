/**
 * モーダル問題を修正するためのスタイル
 * 各種モーダル問題（重複背景、スクロール問題、フリーズなど）に対応
 */

/* モーダル表示時の背景を確実に表示 */
.modal-backdrop {
  opacity: 0.5 !important;
  z-index: 1040 !important;
}

/* モーダル自体のz-indexを調整 */
.modal {
  z-index: 1050 !important;
  background: none !important;
}

/* モーダルダイアログの位置とスクロール */
.modal-dialog {
  z-index: 1050 !important;
  margin: 1.75rem auto !important;
  max-height: 95vh !important;
  overflow-y: auto !important;
}

/* モーダル内のコンテンツスタイル */
.modal-content {
  box-shadow: 0 0 15px rgba(0, 0, 0, 0.5) !important;
  max-height: 95vh !important;
}

/* 長いモーダルのスクロール問題修正 */
.modal-body {
  overflow-y: auto !important;
  max-height: 70vh !important;
}

/* 緊急終了ボタンのスタイル */
.emergency-close-btn {
  position: absolute !important;
  top: 5px !important;
  right: 5px !important;
  z-index: 9999 !important;
  background-color: #dc3545 !important;
  color: white !important;
  font-size: 12px !important;
  padding: 2px 5px !important;
  border-radius: 3px !important;
  display: none; /* 通常は非表示、問題発生時にJSで表示 */
}

/* 証明写真と本人確認書類の重複表示を防ぐスタイル */
#guideRegisterModal label[for^="photo-file"],
#touristRegisterModal label[for^="id-document"] {
  display: none !important;
}

/* モーダル閉じるボタンの表示確保 */
.modal .btn-close, 
.modal [data-bs-dismiss="modal"] {
  opacity: 1 !important;
  position: relative !important;
  z-index: 2000 !important;
}

/* モバイル対応のモーダルスタイル */
@media (max-width: 768px) {
  .modal-dialog {
    margin: 0.5rem auto !important;
    max-width: 95% !important;
    max-height: 90vh !important;
  }
  
  .modal-body {
    max-height: 65vh !important;
    padding: 0.75rem !important;
  }
}