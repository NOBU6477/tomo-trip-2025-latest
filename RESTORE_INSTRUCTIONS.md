# ガイドシステム - 復元手順

本プロジェクトには自動バックアップと復元機能が組み込まれています。必要に応じて以下の手順で復元できます。

## 最新バックアップ情報

現在のバックアップは **guide_system_fixed_20250425_130126** です。

このバックアップには以下の修正が含まれています：
- ガイド名が正しく表示される修正
- ツアープランの地域表示が正しく行われる修正
- DEBUG_MODE変数の競合解消

## 復元方法

**A. 最新バックアップから復元する場合：**

ターミナルで以下のコマンドを実行します：

```bash
./restore_checkpoint.sh
```

これにより、自動的に最新バックアップから必要なファイルが復元されます。

**B. 手動で復元する場合：**

1. `backups/guide_system_fixed_20250425_130126` フォルダに移動します
2. 必要なファイルをプロジェクトのルートフォルダにコピーします

## 復元対象の主要ファイル

- **guide-data-storage-api.js**: ガイドデータの標準API
- **guide-card-extractor.js**: カードからのデータ抽出機能
- **guide-data-api-debug.js**: デバッグAPIとロギング機能
- **guide-data-final-fix.js**: ガイド詳細表示の修正
- **tour-plan-injector.js**: ツアープラン地域表示の修正
- **initialize-guide-data.js**: ガイドデータ初期化機能

## 問題が発生した場合

何か問題が発生した場合は、以下のファイルで変数名の競合がないか確認してください：

1. `guide-data-api-debug.js` ファイル内の `GUIDE_DEBUG_MODE` 変数
2. `tour-plan-injector.js` と `guide-data-final-fix.js` の連携

## 新たなバックアップの作成

プロジェクトの現状を新たにバックアップするには以下のコマンドを実行します：

```bash
./backup-current-state.sh
```

これにより新しいタイムスタンプを持つバックアップが作成され、復元スクリプトも自動的に更新されます。