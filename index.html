<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Local Guide - ÁâπÂà•„Å™ÊóÖ„ÅÆ‰ΩìÈ®ì„Çí</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
        /* Clear any cached styles */
        * { box-sizing: border-box; }
        
        body {
            margin: 0;
            padding: 0;
            font-family: 'Helvetica Neue', Arial, sans-serif;
            overflow-x: hidden;
        }

        /* Navigation */
        .navbar {
            background: rgba(255, 255, 255, 0.95) !important;
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }

        .navbar-brand {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: bold;
            font-size: 1.5rem;
        }

        .logo-container {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            width: 50px;
            height: 50px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        /* Hero Section */
        .hero-section {
            background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), 
                        url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80');
            background-size: cover;
            background-position: center;
            height: 100vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Language Switcher - Center Position */
        .language-switcher-center {
            position: absolute;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            gap: 0;
            z-index: 100;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            border-radius: 25px;
            overflow: hidden;
        }

        .lang-btn-jp, .lang-btn-en {
            padding: 15px 30px;
            border: none;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 140px;
            color: white;
        }

        .lang-btn-jp {
            background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
        }

        .lang-btn-en {
            background: linear-gradient(135deg, #4287f5, #64a8ff);
        }

        .lang-btn-jp:hover {
            background: linear-gradient(135deg, #ff5252, #ff7979);
            transform: translateY(-2px);
        }

        .lang-btn-en:hover {
            background: linear-gradient(135deg, #3b78e7, #5a9cff);
            transform: translateY(-2px);
        }

        /* Hero Content */
        .hero-content {
            text-align: center;
            color: white;
            max-width: 800px;
            padding: 0 20px;
            margin-top: 150px;
        }

        .hero-content h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .hero-content p {
            font-size: 1.3rem;
            margin-bottom: 2.5rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
            line-height: 1.6;
        }

        /* Action Buttons */
        .hero-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-hero {
            padding: 15px 35px;
            border-radius: 35px;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            border: none;
            cursor: pointer;
        }

        .btn-primary-hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-outline-hero {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
        }

        .btn-hero:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        /* Right Side Sponsor Buttons */
        .sponsor-buttons {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 1000;
        }

        .sponsor-btn {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 35px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            box-shadow: 0 6px 20px rgba(40, 167, 69, 0.3);
        }

        .sponsor-btn:hover {
            transform: translateX(-8px) translateY(-3px);
            box-shadow: 0 10px 30px rgba(40, 167, 69, 0.4);
            background: linear-gradient(135deg, #218838, #1e7e34);
        }

        .login-btn {
            background: linear-gradient(135deg, #007bff, #0056b3);
            box-shadow: 0 6px 20px rgba(0, 123, 255, 0.3);
        }

        .login-btn:hover {
            background: linear-gradient(135deg, #0056b3, #004085);
            box-shadow: 0 10px 30px rgba(0, 123, 255, 0.4);
        }

        /* Management Center Button */
        .management-center {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(100px);
            background: linear-gradient(135deg, #ffc107, #ff8800);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            cursor: pointer;
            font-size: 20px;
            z-index: 1000;
            box-shadow: 0 6px 20px rgba(255, 193, 7, 0.4);
            transition: all 0.3s ease;
        }

        .management-center:hover {
            transform: translateY(100px) scale(1.1);
            box-shadow: 0 10px 30px rgba(255, 193, 7, 0.5);
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .hero-content h1 {
                font-size: 2.5rem;
            }
            
            .hero-content p {
                font-size: 1.1rem;
            }
            
            .sponsor-buttons {
                position: relative;
                right: auto;
                top: auto;
                transform: none;
                flex-direction: row;
                justify-content: center;
                margin-top: 2rem;
            }
            
            .language-switcher-center {
                position: relative;
                top: auto;
                left: auto;
                transform: none;
                margin: 2rem 0;
            }
            
            .management-center {
                position: fixed;
                bottom: 20px;
                right: 20px;
                transform: none;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="/">
                <div class="logo-container">üå¥</div>
                TomoTrip
            </a>
            
            <div class="d-flex">
                <button class="btn btn-outline-primary me-2" id="loginBtn">„É≠„Ç∞„Ç§„É≥</button>
                <button class="btn btn-primary" id="registerBtn">Êñ∞Ë¶èÁôªÈå≤</button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <!-- Language Switcher - Center -->
        <div class="language-switcher-center">
            <button class="lang-btn-jp" id="jpBtn">üáØüáµ Êó•Êú¨Ë™û</button>
            <button class="lang-btn-en" id="enBtn">üá∫üá∏ English</button>
        </div>

        <!-- Hero Content -->
        <div class="hero-content">
            <h1>„ÅÇ„Å™„Åü„Å†„Åë„ÅÆÁâπÂà•„Å™ÊóÖ„Çí</h1>
            <p>Âú∞ÂÖÉ„Ç¨„Ç§„Éâ„Å®‰∏ÄÁ∑í„Å´„ÄÅË¶≥ÂÖâ„Åß„ÅØË¶ã„Å§„Åã„Çâ„Å™„ÅÑÈö†„Çå„ÅüÈ≠ÖÂäõ„Çí‰ΩìÈ®ì„Åó„Åæ„Åó„Çá„ÅÜ</p>
            <div class="hero-buttons">
                <button class="btn-hero btn-primary-hero" id="findGuideBtn">„Ç¨„Ç§„Éâ„ÇíÊé¢„Åô</button>
                <button class="btn-hero btn-outline-hero" id="contactBtn">„ÅäÂïè„ÅÑÂêà„Çè„Åõ</button>
            </div>
        </div>
    </section>

    <!-- Right Side Buttons -->
    <div class="sponsor-buttons">
        <button class="sponsor-btn" id="sponsorRegBtn">ÂçîË≥õÂ∫óÁôªÈå≤</button>
        <button class="sponsor-btn login-btn" id="sponsorLoginBtn">„É≠„Ç∞„Ç§„É≥</button>
    </div>

    <!-- Management Center Button -->
    <button class="management-center" id="managementBtn" title="ÁÆ°ÁêÜ„Çª„É≥„Çø„Éº">üèÜ</button>

    <!-- Main Content Section -->
    <section class="main-content" style="padding: 80px 0; background: #f8f9fa;">
        <div class="container">
            <!-- Filter Section -->
            <div class="row mb-4">
                <div class="col-12">
                    <div class="filter-section" style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
                        <div class="d-flex flex-wrap gap-3 align-items-center justify-content-between">
                            <div class="d-flex flex-wrap gap-3">
                                <select class="form-select" style="width: auto; min-width: 150px;" id="locationFilter">
                                    <option value="">„Åô„Åπ„Å¶„ÅÆÂú∞Âüü</option>
                                    <option value="tokyo">Êù±‰∫¨</option>
                                    <option value="kyoto">‰∫¨ÈÉΩ</option>
                                    <option value="osaka">Â§ßÈò™</option>
                                    <option value="hiroshima">Â∫ÉÂ≥∂</option>
                                </select>
                                
                                <select class="form-select" style="width: auto; min-width: 150px;" id="languageFilter">
                                    <option value="">„Åô„Åπ„Å¶„ÅÆË®ÄË™û</option>
                                    <option value="japanese">Êó•Êú¨Ë™û</option>
                                    <option value="english">Ëã±Ë™û</option>
                                    <option value="chinese">‰∏≠ÂõΩË™û</option>
                                    <option value="korean">ÈüìÂõΩË™û</option>
                                </select>
                                
                                <select class="form-select" style="width: auto; min-width: 150px;" id="priceFilter">
                                    <option value="">„Åô„Åπ„Å¶„ÅÆ‰æ°Ê†º</option>
                                    <option value="low">¬•3,000‰ª•‰∏ã</option>
                                    <option value="medium">¬•3,000-¬•7,000</option>
                                    <option value="high">¬•7,000‰ª•‰∏ä</option>
                                </select>
                            </div>
                            
                            <div class="d-flex gap-2">
                                <button class="btn btn-primary" id="searchBtn">Ê§úÁ¥¢</button>
                                <button class="btn btn-outline-secondary" id="resetBtn">„É™„Çª„ÉÉ„Éà</button>
                            </div>
                        </div>
                        
                        <div class="mt-3">
                            <small class="text-muted" id="guideCounter">12‰∫∫„ÅÆ„Ç¨„Ç§„Éâ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åó„Åü</small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Guide Cards Section -->
            <div class="row" id="guideCardsContainer">
                <!-- Guide cards will be populated here -->
            </div>
            
            <!-- Load More Button -->
            <div class="row mt-4">
                <div class="col-12 text-center">
                    <button class="btn btn-outline-primary btn-lg" id="loadMoreBtn">„ÇÇ„Å£„Å®Ë¶ã„Çã</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Complete JavaScript - No Loops, No Conflicts -->
    <script>
        // Guide data
        const guideData = [
            {
                id: 1, name: "Áî∞‰∏≠ ÂÅ•Â§™", location: "tokyo", languages: ["japanese", "english"], 
                price: 5000, rating: 4.8, specialty: "Ê≠¥Âè≤„ÉªÊñáÂåñ", image: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=300&fit=crop&crop=face",
                description: "Êù±‰∫¨„ÅÆÈö†„Çå„ÅüÊ≠¥Âè≤„Çπ„Éù„ÉÉ„Éà„Çí„ÅîÊ°àÂÜÖ„Åó„Åæ„Åô"
            },
            {
                id: 2, name: "‰ΩêËó§ ÁæéÂí≤", location: "kyoto", languages: ["japanese", "english", "chinese"], 
                price: 6000, rating: 4.9, specialty: "ÂØ∫Á§æ„ÉªÂ∫≠Âúí", image: "https://images.unsplash.com/photo-1494790108755-2616c9a84d84?w=300&h=300&fit=crop&crop=face",
                description: "‰∫¨ÈÉΩ„ÅÆÁæé„Åó„ÅÑÂØ∫Á§æ„Å®Â∫≠Âúí„ÇíÂ∑°„Çä„Åæ„Åó„Çá„ÅÜ"
            },
            {
                id: 3, name: "Èà¥Êú® Â§ßËºî", location: "osaka", languages: ["japanese", "korean"], 
                price: 4500, rating: 4.7, specialty: "„Ç∞„É´„É°„ÉªÈ£ü„ÅπÊ≠©„Åç", image: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=300&h=300&fit=crop&crop=face",
                description: "Â§ßÈò™„ÅÆÊú¨ÂΩì„Å´ÁæéÂë≥„Åó„ÅÑ„Ç∞„É´„É°„Çπ„Éù„ÉÉ„Éà„Å∏"
            },
            {
                id: 4, name: "Â±±Áî∞ Ëä±Â≠ê", location: "hiroshima", languages: ["japanese", "english"], 
                price: 5500, rating: 4.6, specialty: "Âπ≥ÂíåÂ≠¶Áøí„ÉªÊ≠¥Âè≤", image: "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=300&h=300&fit=crop&crop=face",
                description: "Â∫ÉÂ≥∂„ÅÆÂπ≥Âíå„Å®Ê≠¥Âè≤„ÇíÂ≠¶„Å∂„ÉÑ„Ç¢„Éº"
            },
            {
                id: 5, name: "È´òÊ©ã ÁøîÂ§™", location: "tokyo", languages: ["japanese", "english"], 
                price: 7000, rating: 4.8, specialty: "Áèæ‰ª£„Ç´„É´„ÉÅ„É£„Éº", image: "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=300&h=300&fit=crop&crop=face",
                description: "ÊúÄÊñ∞„ÅÆÊù±‰∫¨„Ç´„É´„ÉÅ„É£„Éº„Çí‰ΩìÈ®ì"
            },
            {
                id: 6, name: "‰∏≠Êùë ÊÑõ", location: "kyoto", languages: ["japanese", "chinese"], 
                price: 6500, rating: 4.9, specialty: "‰ºùÁµ±Â∑•Ëä∏„Éª‰ΩìÈ®ì", image: "https://images.unsplash.com/photo-1607746882042-944635dfe10e?w=300&h=300&fit=crop&crop=face",
                description: "‰∫¨ÈÉΩ„ÅÆ‰ºùÁµ±Â∑•Ëä∏„Çí‰ΩìÈ®ì„Åó„Åæ„Åó„Çá„ÅÜ"
            },
            {
                id: 7, name: "Ê∏°Ëæ∫ ÈõÑ‰∏Ä", location: "osaka", languages: ["japanese", "english", "korean"], 
                price: 4000, rating: 4.5, specialty: "„Éä„Ç§„Éà„É©„Ç§„Éï", image: "https://images.unsplash.com/photo-1463453091185-61582044d556?w=300&h=300&fit=crop&crop=face",
                description: "Â§ßÈò™„ÅÆÂ§ú„ÇíÊ•Ω„Åó„ÇÄ„Ç¨„Ç§„Éâ„ÉÑ„Ç¢„Éº"
            },
            {
                id: 8, name: "Êûó ÂΩ©È¶ô", location: "hiroshima", languages: ["japanese", "english", "chinese"], 
                price: 5200, rating: 4.7, specialty: "Ëá™ÁÑ∂„ÉªÊôØË¶≥", image: "https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=300&h=300&fit=crop&crop=face",
                description: "Â∫ÉÂ≥∂„ÅÆÁæé„Åó„ÅÑËá™ÁÑ∂„Å®ÊôØË¶≥„ÇíÂ∑°„Çã"
            },
            {
                id: 9, name: "Â∞èÊûó Ë™†", location: "tokyo", languages: ["japanese", "english"], 
                price: 8000, rating: 4.9, specialty: "„É©„Ç∞„Ç∏„É•„Ç¢„É™„Éº", image: "https://images.unsplash.com/photo-1507591064344-4c6ce005b128?w=300&h=300&fit=crop&crop=face",
                description: "Êù±‰∫¨„ÅÆ„É©„Ç∞„Ç∏„É•„Ç¢„É™„Éº„Å™‰ΩìÈ®ì„Çí„ÅîÊèê‰æõ"
            },
            {
                id: 10, name: "‰∫ï‰∏ä È∫ªË°£", location: "kyoto", languages: ["japanese", "english"], 
                price: 5800, rating: 4.8, specialty: "ÁùÄÁâ©„ÉªÊñáÂåñ‰ΩìÈ®ì", image: "https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?w=300&h=300&fit=crop&crop=face",
                description: "ÁùÄÁâ©„ÇíÁùÄ„Å¶‰∫¨ÈÉΩ„ÅÆÊñáÂåñ„Çí‰ΩìÈ®ì"
            },
            {
                id: 11, name: "Ê£ÆÁî∞ ÂÅ•", location: "osaka", languages: ["japanese", "korean"], 
                price: 4800, rating: 4.6, specialty: "ÂïÜÂ∫óË°ó„Éª„É≠„Éº„Ç´„É´", image: "https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=300&h=300&fit=crop&crop=face",
                description: "Âú∞ÂÖÉ„ÅÆÂïÜÂ∫óË°ó„Å®„É≠„Éº„Ç´„É´„Å™È≠ÖÂäõ"
            },
            {
                id: 12, name: "Ê∏ÖÊ∞¥ ÁµêË°£", location: "hiroshima", languages: ["japanese", "english", "chinese"], 
                price: 6200, rating: 4.8, specialty: "Â≥∂„ÇÅ„Åê„Çä„ÉªÊµ∑", image: "https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=300&h=300&fit=crop&crop=face",
                description: "ÁÄ¨Êà∏ÂÜÖÊµ∑„ÅÆÁæé„Åó„ÅÑÂ≥∂„ÄÖ„ÇíÂ∑°„Çã"
            }
        ];

        let currentGuides = guideData;
        let displayedGuides = [];

        // Generate guide card HTML
        function createGuideCard(guide) {
            return `
                <div class="col-md-6 col-lg-4 mb-4">
                    <div class="card h-100 guide-card" style="border-radius: 15px; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.1); transition: transform 0.3s ease;">
                        <img src="${guide.image}" class="card-img-top" style="height: 200px; object-fit: cover;" alt="${guide.name}">
                        <div class="card-body d-flex flex-column">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <h5 class="card-title mb-1">${guide.name}</h5>
                                <div class="d-flex gap-1">
                                    <button class="btn btn-sm btn-outline-warning bookmark-btn" data-guide-id="${guide.id}" title="„Éñ„ÉÉ„ÇØ„Éû„Éº„ÇØ">‚≠ê</button>
                                    <button class="btn btn-sm btn-outline-success compare-btn" data-guide-id="${guide.id}" title="ÊØîËºÉ„É™„Çπ„Éà„Å´ËøΩÂä†">‚úì</button>
                                </div>
                            </div>
                            <div class="mb-2">
                                <span class="badge bg-primary me-1">${guide.location === 'tokyo' ? 'Êù±‰∫¨' : guide.location === 'kyoto' ? '‰∫¨ÈÉΩ' : guide.location === 'osaka' ? 'Â§ßÈò™' : 'Â∫ÉÂ≥∂'}</span>
                                <span class="badge bg-secondary">${guide.specialty}</span>
                            </div>
                            <p class="card-text text-muted small mb-2">${guide.description}</p>
                            <div class="d-flex justify-content-between align-items-center mt-auto">
                                <div>
                                    <span class="text-warning">‚òÖ</span>
                                    <span class="fw-bold">${guide.rating}</span>
                                </div>
                                <div class="text-end">
                                    <div class="fw-bold text-primary">¬•${guide.price.toLocaleString()}</div>
                                    <small class="text-muted">1Êó•„Ç¨„Ç§„Éâ</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Display guides
        function displayGuides(guides, append = false) {
            const container = document.getElementById('guideCardsContainer');
            if (!append) {
                container.innerHTML = '';
                displayedGuides = [];
            }
            
            guides.forEach(guide => {
                if (!displayedGuides.find(g => g.id === guide.id)) {
                    displayedGuides.push(guide);
                }
            });
            
            container.innerHTML = displayedGuides.map(guide => createGuideCard(guide)).join('');
            updateCounter();
            addCardEventListeners();
        }

        // Update counter
        function updateCounter() {
            const counter = document.getElementById('guideCounter');
            if (counter) {
                counter.textContent = `${displayedGuides.length}‰∫∫„ÅÆ„Ç¨„Ç§„Éâ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åó„Åü`;
            }
        }

        // Filter guides
        function filterGuides() {
            const location = document.getElementById('locationFilter').value;
            const language = document.getElementById('languageFilter').value;
            const price = document.getElementById('priceFilter').value;

            let filtered = guideData;

            if (location) {
                filtered = filtered.filter(guide => guide.location === location);
            }

            if (language) {
                filtered = filtered.filter(guide => guide.languages.includes(language));
            }

            if (price) {
                if (price === 'low') {
                    filtered = filtered.filter(guide => guide.price <= 3000);
                } else if (price === 'medium') {
                    filtered = filtered.filter(guide => guide.price > 3000 && guide.price <= 7000);
                } else if (price === 'high') {
                    filtered = filtered.filter(guide => guide.price > 7000);
                }
            }

            currentGuides = filtered;
            displayGuides(filtered.slice(0, 12));
        }

        // Add event listeners to guide cards
        function addCardEventListeners() {
            // Bookmark buttons
            document.querySelectorAll('.bookmark-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const guideId = this.getAttribute('data-guide-id');
                    console.log('Bookmarked guide:', guideId);
                    this.classList.toggle('btn-warning');
                    this.classList.toggle('btn-outline-warning');
                });
            });

            // Compare buttons
            document.querySelectorAll('.compare-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const guideId = this.getAttribute('data-guide-id');
                    console.log('Added to comparison:', guideId);
                    this.classList.toggle('btn-success');
                    this.classList.toggle('btn-outline-success');
                });
            });

            // Card hover effects
            document.querySelectorAll('.guide-card').forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-5px)';
                });
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                });
            });
        }

        // Main initialization
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üå¥ TomoTrip Complete Version Loading...');
            
            // Clear any existing intervals/timeouts to prevent conflicts
            for (let i = 1; i < 99999; i++) {
                window.clearInterval(i);
                window.clearTimeout(i);
            }
            
            // Display initial guides
            displayGuides(guideData.slice(0, 12));
            
            // Button event listeners
            const buttons = {
                jpBtn: () => console.log('üáØüáµ Êó•Êú¨Ë™û selected'),
                enBtn: () => console.log('üá∫üá∏ English selected'),
                loginBtn: () => console.log('Login clicked'),
                registerBtn: () => console.log('Register clicked'),
                findGuideBtn: () => {
                    document.querySelector('.main-content').scrollIntoView({ behavior: 'smooth' });
                },
                contactBtn: () => console.log('Contact clicked'),
                sponsorRegBtn: () => console.log('Sponsor registration clicked'),
                sponsorLoginBtn: () => console.log('Sponsor login clicked'),
                managementBtn: () => console.log('Management center clicked'),
                searchBtn: filterGuides,
                resetBtn: () => {
                    document.getElementById('locationFilter').value = '';
                    document.getElementById('languageFilter').value = '';
                    document.getElementById('priceFilter').value = '';
                    currentGuides = guideData;
                    displayGuides(guideData.slice(0, 12));
                },
                loadMoreBtn: () => {
                    const currentCount = displayedGuides.length;
                    const nextGuides = currentGuides.slice(currentCount, currentCount + 6);
                    if (nextGuides.length > 0) {
                        displayGuides([...displayedGuides, ...nextGuides]);
                    }
                }
            };
            
            // Add event listeners safely
            Object.keys(buttons).forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.addEventListener('click', buttons[id]);
                }
            });
            
            console.log('‚úÖ TomoTrip Complete Version Loaded Successfully - All Features Active');
        });
    </script>
</body>
</html>